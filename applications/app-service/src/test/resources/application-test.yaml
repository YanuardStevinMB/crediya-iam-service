spring:
  profiles:
    active: test
  
  r2dbc:
    url: r2dbc:h2:mem:///testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    username: sa
    password: ""
  
  liquibase:
    enabled: false  # Deshabilitar liquibase en tests unitarios
  
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: test-issuer
  
  webflux:
    static-path-pattern: /static/**

jwt:
  secret: testSecretKeyThatShouldBeAtLeast32CharactersLongForSecurityInTests
  issuer: crediya-iam-service-test
  expiration-sec: 3600

logging:
  level:
    com.crediya.iam: DEBUG
    reactor.netty: WARN
    org.springframework: WARN
    org.springframework.security: WARN
    io.r2dbc: WARN

management:
  endpoints:
    enabled-by-default: false
  endpoint:
    health:
      enabled: true
